app-id: de.haigruppe.summarizer
runtime: org.gnome.Platform
runtime-version: '41'
sdk: org.gnome.Sdk
command: summarizer-ui
branch: stable
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
#  - --socket=pulseaudio
  - --device=dri
#  - --share=network
modules:
  - name: summarizer
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app --no-deps .
      - sed -i "s/sys.exit(main())/sys.exit(main.main())/g" /app/bin/summarizer-ui
      - sed -i "s/sys.exit(main())/sys.exit(main.main())/g" /app/bin/summarizer-cli
    sources:
      - type: git
        path: .
        branch: main
